

   1. About

   This SBEMU variant is compatible with the standard HDPMI32i included in the
   HX runtime package. 


   2. Usage

   The best environment to run SBEMU is
   
   - load JemmEx/Jemm386 in CONFIG.SYS
   - run "JLoad QPIEMU.DLL"
   - run "HDPMI32i -x"
   - run "SBEMU"

   QPIEMU.DLL is needed for real-mode port trapping. Without this helper dll
   support for real-mode cannot be activated by SBEMU - and, btw, it is also
   needed by UNINST.COM, a small tool to unload SBEMU.


   3. SETPVI/RESPVI

    SETPVI sets the PVI flag in cpu register CR4, RESPVI resets it. When this
   bit is set, it's not possible to disable interrupts in ring 3, since CLI/STI
   will modify the virtual interrupt flag (VIF) only.

    The HDPMI32i variant supplied with the original SBEMU has some modifications
   to make it compatible with the DOS4/G[W] DOS extender ( this extender isn't
   prepared to run with IOPL=0 and inadvertently disables interrupts ). This
   works, but OTOH makes it incompatible with HX binaries. Hence this fork, that
   doesn't need those adjustments for HDPMI.
    To achieve compatibility with DOS4/G[W], another approach has been chosen:
   run SETPVI.EXE before running any DOS4/G[W] binary. Usually that's it, most
   programs will run fine. However, a few won't be happy with the effect done
   by SETPVI; then RESPVI.EXE, will undo that effect.
    Besides DOS4/G[W], the PMODE[W] extender also has problems running with
   IOPL=0, so games written with for this extender may also need SETPVI.

